"use strict";(self.webpackChunkclassroom=self.webpackChunkclassroom||[]).push([[633],{1937:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7294);const s=({children:e})=>a.createElement("section",{role:"overlay",className:"Overlay-module__overlay--xZrSL"},a.createElement("section",{className:"Overlay-module__child--lmQw_"},e))},8833:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),s=n(4184),r=n.n(s);const c="Snackbar-module__snackbar--OLpas",l="Snackbar-module__text--DusjQ",o=({text:e,severity:t})=>{let n;const s=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 35 35",fill:"none"},a.createElement("path",{d:"M6.92712 17.4997C6.92712 11.6604 11.6608 6.92676 17.5 6.92676C23.3394 6.92676 28.073 11.6604 28.073 17.4997C28.073 23.339 23.3394 28.0726 17.5 28.0726C11.6608 28.0726 6.92712 23.339 6.92712 17.4997Z",stroke:"#fcfcfc",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.2188 18.5938L14.8512 19.9418C15.3526 21.0102 16.849 21.0717 17.4364 20.0481L20.7812 14.2188",stroke:"#fcfcfc",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),o=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"0 0 35 35",fill:"none"},a.createElement("path",{d:"M6.92676 17.4997C6.92676 11.6604 11.6604 6.92676 17.4997 6.92676C23.339 6.92676 28.0726 11.6604 28.0726 17.4997C28.0726 23.339 23.339 28.0726 17.4997 28.0726C11.6604 28.0726 6.92676 23.339 6.92676 17.4997Z",stroke:"#fcfcfc",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.2188 14.2188L20.7813 20.7813",stroke:"#fcfcfc",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M20.7813 14.2188L14.2188 20.7813",stroke:"#fcfcfc",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));return n="success"===t?a.createElement("div",{className:r()(c,"Snackbar-module__successSnackbar--wPX6Z"),role:"alert"},s,a.createElement("strong",{className:l,role:"alertText"},e)):a.createElement("div",{className:r()(c,"Snackbar-module__errorSnackbar--Ceu4L"),role:"alert"},o,a.createElement("strong",{className:l,role:"alertText"},e)),n}},7227:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),s=n(1937);const r=()=>a.createElement(s.Z,null,a.createElement("span",{className:"Spinner-module__loader--GyqpB"}))},6187:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(7294),s=n(4184),r=n.n(s);const c="StudentTag-module__button--RH4Df",l="StudentTag-module__text--TTeyz",o="StudentTag-module__fullname--YXLLc",i="StudentTag-module__situation--zXJ0H";var m=n(7476);const d=({text:e,variant:t,onAbsentClick:n,onClick:s,onPresentClick:d})=>{let u;switch(t){case"absent":u=a.createElement("button",{className:r()(c,"StudentTag-module__absent--zVhtR"),onClick:s},a.createElement("strong",{className:r()(l,o),role:"text"},e),a.createElement("strong",{className:r()(l,i),role:"situation"},"Absent"));break;case"present":u=a.createElement("button",{className:r()(c,"StudentTag-module__present--Zbdr3"),onClick:s},a.createElement("strong",{className:r()(l,o),role:"text"},e),a.createElement("strong",{className:r()(l,i),role:"situation"},"Present"));break;default:u=a.createElement("div",{className:r()(c,"StudentTag-module__unresolved--KoQt1"),role:"tag"},a.createElement("strong",{className:r()(l,o),role:"text"},e),a.createElement("div",{className:"StudentTag-module__buttons--CJZ2e",role:"action"},a.createElement(m.Z,{variant:"text-slim",text:"Absent",onClick:n}),a.createElement(m.Z,{variant:"contained-slim",text:"Present",onClick:d})))}return u}},9461:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(7294),s=n(5998),r=n(9250),c=n(9729),l=n(6187),o=n(5699),i=n(5157),m=n(7227),d=n(8833),u=n(6499);const k=()=>{const[e,t]=a.useState({}),[n,k]=a.useState(),b=localStorage.getItem("selectedSession"),g=(0,s.v9)((e=>e.class.data.class)),v=(0,s.v9)((e=>e.class.data.students)),E=(0,s.v9)((e=>e.class.data.sessions)),f=(0,s.v9)((e=>e.home.loading)),h=(0,s.v9)((e=>e.home.error));let p=E.filter((e=>e.id===Number(b))).pop();a.useEffect((()=>{if(E){const e=E.filter((e=>e.id===Number(b))).pop(),n=e.situation,a=e.date;t(n),k(a)}}),[]);const _=(0,s.I0)(),C=(0,r.s0)();function Z(n){const a=Object.assign({},e);a[n]=void 0,t(a)}function x(n){t(Object.assign(Object.assign({},e),{[n]:!1}))}function N(n){t(Object.assign(Object.assign({},e),{[n]:!0}))}const S=null===h?"Something went wrong!":h,w=new Date(n),L=w.getDate(),j=w.getMonth()+1,y=`${g.classname}: Session ${L}/${j}`,O=a.createElement(a.Fragment,null,a.createElement(c.Z,{variant:"outlined",icon:"cancel",text:"Cancel",onClick:function(){C("/select-edit-session")}}),v.length===Object.keys(e).length?a.createElement(c.Z,{variant:"contained",icon:"submit",text:"Submit",onClick:function(){let t=Object.assign({},p);t.situation=Object.assign({},e),_((0,u._s)(t)),C("/select-edit-session")}}):a.createElement(c.Z,{variant:"contained-disabled",icon:"submit",text:"Submit"})),T=[];return v.map((t=>{const n=t.firstname+" "+t.lastname;Object.entries(e).map((e=>{t.id===parseInt(e[0])&&(!0===e[1]?T.push(a.createElement(l.Z,{text:n,variant:"present",key:t.id+n+e[1],onClick:Z.bind(void 0,Number(e[0]))})):!1===e[1]?T.push(a.createElement(l.Z,{text:n,variant:"absent",key:t.id+n+e[1],onClick:Z.bind(void 0,Number(e[0]))})):T.push(a.createElement(l.Z,{text:n,variant:"unresolved",key:t.id+n+e[1],onAbsentClick:x.bind(void 0,Number(e[0])),onPresentClick:N.bind(void 0,Number(e[0]))})))}))})),a.createElement(a.Fragment,null,"pending"===f?a.createElement(m.Z,null):"failed"===f?a.createElement("section",{className:i.Z.message},a.createElement(d.Z,{text:S,severity:"error"})):"succeeded"===f?a.createElement("section",{className:i.Z.message},a.createElement(d.Z,{text:"Session edited successfully!",severity:"success"})):null,a.createElement(o.Z,{title:y,buttons:O},a.createElement("section",{className:i.Z.body},T)))}}}]);